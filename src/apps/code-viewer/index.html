<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Code Viewer</title>
	<link rel="stylesheet" href="reset.css">
	<link rel="stylesheet" href="./prism.css">
	<link rel="preconnect" href="https://fonts.googleapis.com">
	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link href="https://fonts.googleapis.com/css2?family=Nunito&display=swap" rel="stylesheet">
</head>
<body>
<pre>
<code class="language-js">
// waiting for getting a file...
document.querySelector("#myCode").innerHTML = file.code()
</code>
	</pre>

	<script>
		async function s() {
			try {
				codepre = document.querySelector("code")
				let response = await require("files", "file")
				let code = response.file
				codepre.innerHTML = await code.text()
				codepre.className = "language-"+response.path.split(".").pop()
				self.titleBar.innerHTML = response.path
				self.preview.innerHTML = response.path.split("/").pop()
				// codepre.classList.remove("language-js")
				// codepre.classList.remove(response.path.split(".").pop())

				console.log(codepre.className)
				console.log(response)
				Prism.highlightAll()
			} catch (err) {
				console.trace(err)
				self.close()
			}
		}
		s()
	</script>
	<script src="./prism.js"></script>
</body>
</html>